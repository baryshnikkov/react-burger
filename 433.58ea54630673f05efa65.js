"use strict";(self.webpackChunkreact_burger=self.webpackChunkreact_burger||[]).push([[433],{2433:(e,r,t)=>{t.r(r),t.d(r,{default:()=>re});var n=t(5893),a=t(7294),s=t(2405),i=t(7384),l=t(743),c=t(140),o=t(5494),u=t(9310);var d=(0,a.memo)((function(e){var r=e.currentTab,t=e.bunsRef,a=e.mainRef,s=e.saucesRef,i=e.ingredientsListRef,l=function(e){return function(){!function(e,r){if(r.current&&e.current){var t=r.current,n=e.current.offsetTop,a=t.scrollTop,s=n-a-245,i=Math.abs(s)/1e3*1e3,l=performance.now(),c=function(e){var r=e-l,n=Math.min(r/i,1),o=s*n;t.scrollTop=a+o,r<i&&requestAnimationFrame(c)};requestAnimationFrame(c)}}({main:a,buns:t,sauces:s}[e],i)}};return(0,n.jsxs)("div",{className:"Up1uwk10",children:[(0,n.jsx)(u.OK,{value:"buns",active:"buns"===r,onClick:l("buns"),children:"Булки"}),(0,n.jsx)(u.OK,{value:"sauces",active:"sauces"===r,onClick:l("sauces"),children:"Соусы"}),(0,n.jsx)(u.OK,{value:"main",active:"main"===r,onClick:l("main"),children:"Начинки"})]})}));d.displayName="TabIngredients";var m=(0,a.memo)((function(){var e,r,t,s,i=(0,a.useState)("buns"),u=i[0],m=i[1],f=(0,a.useRef)(null),g=(0,a.useRef)(null),p=(0,a.useRef)(null),x=(0,a.useRef)(null),h=(0,l.v9)(o.t6),k=(e=function(){g.current&&x.current&&p.current&&f.current&&(f.current.getBoundingClientRect().top+160>g.current.getBoundingClientRect().top&&m("buns"),f.current.getBoundingClientRect().top+160>x.current.getBoundingClientRect().top&&m("sauces"),f.current.getBoundingClientRect().top+160>p.current.getBoundingClientRect().top&&m("main"))},50,r=(0,a.useRef)(!1),t=(0,a.useRef)(null),s=(0,a.useCallback)((function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];r.current||(e.apply(void 0,n),r.current=!0,t.current=setTimeout((function(){r.current=!1}),50))}),[e,50]),(0,a.useEffect)((function(){return function(){clearTimeout(t.current)}}),[]),s);return(0,n.jsxs)("div",{className:"AnvsPgQX",children:[(0,n.jsx)("h1",{className:"text text_type_main-large",children:"Соберите бургер"}),(0,n.jsx)(d,{currentTab:u,bunsRef:g,mainRef:p,saucesRef:x,ingredientsListRef:f}),(0,n.jsx)(c.Ib,{bunsRef:g,mainRef:p,saucesRef:x,ingredientsListRef:f,handleScroll:k,selectedBun:h})]})}));m.displayName="BurgerIngredients";var f,g,p,x,h,k,E,_,v,y,F,C,B,b,j,I,R,L,O,G,N,U,w,M,S,D,T,W,A,Z=t(994);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},K.apply(this,arguments)}const P=function(e){return a.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",width:50,height:50,fill:"none"},e),f||(f=a.createElement("g",{stroke:"#4C4CFF",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#burger_svg__a)"},a.createElement("path",{d:"M40.513 37.633c.5-.613.05-1.493-.743-1.506-10.106-.167-18.558.02-29.012.656-.79.048-1.203.948-.675 1.539A19.956 19.956 0 0 0 25.003 45c6.256 0 11.842-2.87 15.51-7.367ZM7.643 15.058c-.39.68.184 1.471.963 1.378 11.567-1.388 20.092-1.802 32.182-1.066.787.048 1.316-.783.88-1.439C38.083 8.548 31.958 5 25.004 5c-7.428 0-13.91 4.048-17.361 10.058Z"}))),g||(g=a.createElement("g",{stroke:"#4C4CFF",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#burger_svg__b)"},a.createElement("path",{d:"M40.513 37.633c.5-.613.05-1.493-.743-1.506-10.106-.167-18.558.02-29.012.656-.79.048-1.203.948-.675 1.539A19.956 19.956 0 0 0 25.003 45c6.256 0 11.842-2.87 15.51-7.367ZM7.643 15.058c-.39.68.184 1.471.963 1.378 11.567-1.388 20.092-1.802 32.182-1.066.787.048 1.316-.783.88-1.439C38.083 8.548 31.958 5 25.004 5c-7.428 0-13.91 4.048-17.361 10.058Z"}))),p||(p=a.createElement("path",{stroke:"#4C4CFF",strokeLinecap:"round",strokeLinejoin:"round",d:"M40.513 37.633c.5-.613.05-1.493-.743-1.506-10.106-.167-18.558.02-29.012.656-.79.048-1.203.948-.675 1.539A19.956 19.956 0 0 0 25.003 45c6.256 0 11.842-2.87 15.51-7.367ZM7.643 15.058c-.39.68.184 1.471.963 1.378 11.567-1.388 20.092-1.802 32.182-1.066.787.048 1.316-.783.88-1.439C38.083 8.548 31.958 5 25.004 5c-7.428 0-13.91 4.048-17.361 10.058Z"})),x||(x=a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.5,d:"M40.513 37.633c.5-.613.05-1.493-.743-1.506-10.106-.167-18.558.02-29.012.656-.79.048-1.203.948-.675 1.539A19.956 19.956 0 0 0 25.003 45c6.256 0 11.842-2.87 15.51-7.367ZM7.643 15.058c-.39.68.184 1.471.963 1.378 11.567-1.388 20.092-1.802 32.182-1.066.787.048 1.316-.783.88-1.439C38.083 8.548 31.958 5 25.004 5c-7.428 0-13.91 4.048-17.361 10.058Z"})),h||(h=a.createElement("g",{filter:"url(#burger_svg__c)"},a.createElement("path",{stroke:"#E33CD5",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.86 27.466c.128-1.053-.688-1.954-1.745-2.04-12.88-1.038-22.93-1.2-36.225-.502-1.06.056-1.9.936-1.8 1.992.14 1.498.447 2.95.901 4.334.262.797 1.04 1.29 1.88 1.262 12.512-.434 22.19-.465 34.325-.137.84.022 1.615-.477 1.87-1.277.372-1.168.64-2.383.793-3.632Z"}))),k||(k=a.createElement("g",{filter:"url(#burger_svg__d)"},a.createElement("path",{stroke:"#E33CD5",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.86 27.466c.128-1.053-.688-1.954-1.745-2.04-12.88-1.038-22.93-1.2-36.225-.502-1.06.056-1.9.936-1.8 1.992.14 1.498.447 2.95.901 4.334.262.797 1.04 1.29 1.88 1.262 12.512-.434 22.19-.465 34.325-.137.84.022 1.615-.477 1.87-1.277.372-1.168.64-2.383.793-3.632Z"}))),E||(E=a.createElement("path",{stroke:"#E33CD5",strokeLinecap:"round",strokeLinejoin:"round",d:"M44.86 27.466c.128-1.053-.688-1.954-1.745-2.04-12.88-1.038-22.93-1.2-36.225-.502-1.06.056-1.9.936-1.8 1.992.14 1.498.447 2.95.901 4.334.262.797 1.04 1.29 1.88 1.262 12.512-.434 22.19-.465 34.325-.137.84.022 1.615-.477 1.87-1.277.372-1.168.64-2.383.793-3.632Z"})),_||(_=a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.5,d:"M44.86 27.466c.128-1.053-.688-1.954-1.745-2.04-12.88-1.038-22.93-1.2-36.225-.502-1.06.056-1.9.936-1.8 1.992.14 1.498.447 2.95.901 4.334.262.797 1.04 1.29 1.88 1.262 12.512-.434 22.19-.465 34.325-.137.84.022 1.615-.477 1.87-1.277.372-1.168.64-2.383.793-3.632Z"})),v||(v=a.createElement("g",{filter:"url(#burger_svg__e)"},a.createElement("path",{stroke:"#0CC",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 20.5c2.667-2 5.333-2 8 0s5.333 2 8 0 5.333-2 8 0 5.333 2 8 0 5.333-2 8 0"}))),y||(y=a.createElement("g",{filter:"url(#burger_svg__f)"},a.createElement("path",{stroke:"#0CC",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 20.5c2.667-2 5.333-2 8 0s5.333 2 8 0 5.333-2 8 0 5.333 2 8 0 5.333-2 8 0"}))),F||(F=a.createElement("path",{stroke:"#0CC",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 20.5c2.667-2 5.333-2 8 0s5.333 2 8 0 5.333-2 8 0 5.333 2 8 0 5.333-2 8 0"})),C||(C=a.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.5,d:"M5 20.5c2.667-2 5.333-2 8 0s5.333 2 8 0 5.333-2 8 0 5.333 2 8 0 5.333-2 8 0"})),B||(B=a.createElement("g",{stroke:"#4C4CFF",filter:"url(#burger_svg__g)"},a.createElement("ellipse",{rx:1,ry:.75,transform:"scale(1 -1) rotate(-27.688 -72.001 -56.986)"}),a.createElement("ellipse",{cx:33.708,cy:11.354,rx:1.5,ry:1,transform:"rotate(15 33.708 11.354)"}),a.createElement("ellipse",{rx:1,ry:.75,transform:"scale(1 -1) rotate(15 167.432 98.35)"}),a.createElement("ellipse",{cx:23.5,cy:12,rx:1.5,ry:1,transform:"rotate(180 23.5 12)"}),a.createElement("ellipse",{cx:27.708,cy:8.354,rx:1.5,ry:1,transform:"rotate(15 27.708 8.354)"}),a.createElement("ellipse",{rx:1,ry:.75,transform:"matrix(1 0 0 -1 25 41.75)"}),a.createElement("ellipse",{cx:16.793,cy:10.583,rx:1.5,ry:1,transform:"rotate(-27.688 16.793 10.583)"}))),b||(b=a.createElement("g",{stroke:"#4C4CFF",filter:"url(#burger_svg__h)"},a.createElement("ellipse",{rx:1,ry:.75,transform:"scale(1 -1) rotate(-27.688 -72.001 -56.986)"}),a.createElement("ellipse",{cx:33.708,cy:11.354,rx:1.5,ry:1,transform:"rotate(15 33.708 11.354)"}),a.createElement("ellipse",{rx:1,ry:.75,transform:"scale(1 -1) rotate(15 167.432 98.35)"}),a.createElement("ellipse",{cx:23.5,cy:12,rx:1.5,ry:1,transform:"rotate(180 23.5 12)"}),a.createElement("ellipse",{cx:27.708,cy:8.354,rx:1.5,ry:1,transform:"rotate(15 27.708 8.354)"}),a.createElement("ellipse",{rx:1,ry:.75,transform:"matrix(1 0 0 -1 25 41.75)"}),a.createElement("ellipse",{cx:16.793,cy:10.583,rx:1.5,ry:1,transform:"rotate(-27.688 16.793 10.583)"}))),j||(j=a.createElement("ellipse",{stroke:"#4C4CFF",rx:1,ry:.75,transform:"scale(1 -1) rotate(-27.688 -72.001 -56.986)"})),I||(I=a.createElement("ellipse",{cx:33.708,cy:11.354,stroke:"#4C4CFF",rx:1.5,ry:1,transform:"rotate(15 33.708 11.354)"})),R||(R=a.createElement("ellipse",{stroke:"#4C4CFF",rx:1,ry:.75,transform:"scale(1 -1) rotate(15 167.432 98.35)"})),L||(L=a.createElement("ellipse",{cx:23.5,cy:12,stroke:"#4C4CFF",rx:1.5,ry:1,transform:"rotate(180 23.5 12)"})),O||(O=a.createElement("ellipse",{cx:27.708,cy:8.354,stroke:"#4C4CFF",rx:1.5,ry:1,transform:"rotate(15 27.708 8.354)"})),G||(G=a.createElement("ellipse",{stroke:"#4C4CFF",rx:1,ry:.75,transform:"matrix(1 0 0 -1 25 41.75)"})),N||(N=a.createElement("ellipse",{cx:16.793,cy:10.583,stroke:"#4C4CFF",rx:1.5,ry:1,transform:"rotate(-27.688 16.793 10.583)"})),U||(U=a.createElement("ellipse",{stroke:"#fff",strokeWidth:.5,rx:1,ry:.75,transform:"scale(1 -1) rotate(-27.688 -72.001 -56.986)"})),w||(w=a.createElement("ellipse",{cx:33.708,cy:11.354,stroke:"#fff",strokeWidth:.5,rx:1.5,ry:1,transform:"rotate(15 33.708 11.354)"})),M||(M=a.createElement("ellipse",{stroke:"#fff",strokeWidth:.5,rx:1,ry:.75,transform:"scale(1 -1) rotate(15 167.432 98.35)"})),S||(S=a.createElement("ellipse",{cx:23.5,cy:12,stroke:"#fff",strokeWidth:.5,rx:1.5,ry:1,transform:"rotate(180 23.5 12)"})),D||(D=a.createElement("ellipse",{cx:27.708,cy:8.354,stroke:"#fff",strokeWidth:.5,rx:1.5,ry:1,transform:"rotate(15 27.708 8.354)"})),T||(T=a.createElement("ellipse",{stroke:"#fff",strokeWidth:.5,rx:1,ry:.75,transform:"matrix(1 0 0 -1 25 41.75)"})),W||(W=a.createElement("ellipse",{cx:16.793,cy:10.583,stroke:"#fff",strokeWidth:.5,rx:1.5,ry:1,transform:"rotate(-27.688 16.793 10.583)"})),A||(A=a.createElement("defs",null,a.createElement("filter",{id:"burger_svg__a",width:43.318,height:49,x:3.012,y:.5,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__b",width:43.318,height:49,x:3.012,y:.5,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__c",width:48.792,height:17.013,x:.581,y:20,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__d",width:48.792,height:17.013,x:.581,y:20,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__e",width:49,height:12,x:.5,y:14.5,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__f",width:49,height:12,x:.5,y:14.5,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__g",width:28.795,height:44.187,x:10.885,y:2.813,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})),a.createElement("filter",{id:"burger_svg__h",width:28.795,height:44.187,x:10.885,y:2.813,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},a.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),a.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a.createElement("feGaussianBlur",{result:"effect1_foregroundBlur_20161_1096",stdDeviation:2})))))};var z=t(5096),Y=t(7129),Q=t(6487);var q=(0,a.memo)((function(e){var r=e.image,t=e.name,s=e.price,i=e.className,l=e._id,d=e.index,m=e.moveCard,f=(0,Y.T)(),g=(0,a.useCallback)((function(e){f(o.zk.deleteIngredient(e)),f(c.s_.minusAmountIngredient(e))}),[f]),p=(0,Q.c)({type:"card",item:{index:d},collect:function(e){return{isDragging:e.isDragging()}}}),x=p[0].isDragging,h=p[1],k=(0,Z.L)({accept:"card",hover:function(e,r){var t,n=e.index,a=d,s=null===(t=_.current)||void 0===t?void 0:t.getBoundingClientRect(),i=(s.bottom-s.top)/2,l=r.getClientOffset().y-s.top;n<a&&l<i||n>a&&l>i||(m(n,a),e.index=a)}}),E=(k[0],k[1]),_=(0,a.useRef)(null),v=h(E(_)),y=x?0:1;return(0,n.jsxs)("div",{className:(0,z.cn)("c46Jf2er",{},[i]),ref:v,style:{opacity:y},children:[(0,n.jsx)(u.Vn,{type:"primary"}),(0,n.jsx)(u.DY,{text:t,price:s,thumbnail:r,handleClose:function(){g(l)}})]})}));q.displayName="ToppingCard";const H="lcNKwz8o",J="U7nvudOi",X="mTaomKI3";var V=(0,a.memo)((function(){var e,r=(0,l.v9)(o.fO),t=(0,l.v9)(o.t6),s=(0,l.v9)(o.OR),i=(0,Y.T)(),d=(0,Z.L)({accept:"ingredient",collect:function(e){return{isHover:e.isOver()}},drop:function(e){i(o.zk.addIngredient(e)),i(c.s_.plusAmountIngredient(e._id))}}),m=d[0].isHover,f=d[1],g=(0,a.useCallback)((function(e,r){var t=s[e],n=s[r],a=function(e,r,t){if(t||2===arguments.length)for(var n,a=0,s=r.length;a<s;a++)!n&&a in r||(n||(n=Array.prototype.slice.call(r,0,a)),n[a]=r[a]);return e.concat(n||Array.prototype.slice.call(r))}([],s,!0);a[e]=n,a[r]=t,i(o.zk.updateToppings(a))}),[i,s]),p=(0,a.useCallback)((function(e){return t&&(0,n.jsx)("div",{className:"XYE7JoWh",children:(0,n.jsx)(u.DY,{type:e,isLocked:!0,text:null==t?void 0:t.name,price:null==t?void 0:t.price,thumbnail:null==t?void 0:t.image})})}),[t]),x=(0,a.useCallback)((function(){i(c.s_.clearAmountIngredients())}),[i]);return r?(0,n.jsxs)("div",{className:H,ref:f,children:[(0,n.jsxs)("div",{className:X,children:[(0,n.jsx)("p",{className:"text text_type_main-medium",children:"Поместите ингредиенты сюда..."}),(0,n.jsx)(P,{})]}),(0,n.jsx)(o.sg,{className:J,clearAmountIngredients:x})]}):(0,n.jsxs)("div",{className:(0,z.cn)(H,{},["QNdFbbgu"]),ref:f,children:[(0,n.jsxs)("div",{className:(0,z.cn)(X,(e={},e.FmQEstU_=m,e),[]),children:[p("top"),(0,n.jsx)("div",{className:"IF6xYiwW",children:s.map((function(e,r){return(0,n.jsx)(q,{name:e.name,price:e.price,image:e.image,_id:e._id,index:r,moveCard:g},e.idKey)}))}),p("bottom")]}),(0,n.jsx)(o.sg,{className:J,clearAmountIngredients:x})]})}));V.displayName="BurgerOrder";var $=t(2743);var ee=(0,a.memo)((function(){return(0,n.jsx)($.T,{className:"vDRGSWUU",children:(0,n.jsxs)(s.W,{backend:i.PD,children:[(0,n.jsx)(m,{}),(0,n.jsx)(V,{})]})})}));const re=ee;ee.displayName="MainPage"},2743:(e,r,t)=>{t.d(r,{T:()=>s});var n=t(5893),a=t(5096);var s=function(e){var r=e.children,t=e.className;return(0,n.jsx)("main",{className:(0,a.cn)("g23eWnm8",{},[t]),children:r})};s.displayName="Page"}}]);