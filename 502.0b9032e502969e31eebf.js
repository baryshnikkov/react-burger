"use strict";(self.webpackChunkreact_burger=self.webpackChunkreact_burger||[]).push([[502],{2502:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a=t(5893),i=t(7294),o=t(743),s=t(9250),c=t(2743),u=t(5494),r=t(4247),l=t(9086),d=t(872),m=t(9310),f=t(7129),h=t(2813),v=t(3775),p=t(7997);var x=function(){var e=(0,i.useState)(""),n=e[0],t=e[1],s=(0,i.useState)(""),c=s[0],u=s[1],l=(0,i.useState)(""),d=l[0],x=l[1],C=(0,i.useState)(!1),g=C[0],j=C[1],I=(0,o.v9)(r.hP),y=(0,o.v9)(r.vW),S=(0,o.v9)(r.Tx),N=(0,o.v9)(r.vP),_=(0,f.T)();return(0,i.useEffect)((function(){!I||y||S||_((0,r.$y)({accessToken:I}))}),[I,y,S,_]),(0,i.useEffect)((function(){y&&t(y)}),[y]),(0,i.useEffect)((function(){S&&u(S)}),[S]),(0,a.jsxs)("form",{className:"iBUHHPQI",children:[(0,a.jsx)(p.o,{name:"name",value:n,onChange:function(e){t(e),j(!0)},placeholder:"Имя",isEdit:!0,isChangeValue:g}),(0,a.jsx)(h.q,{value:c,onChange:function(e){u(e),j(!0)},isEdit:!0,isChangeValue:g}),(0,a.jsx)(v.C,{value:d,onChange:function(e){x(e),j(!0)},isEdit:!0,isChangeValue:g}),g&&(0,a.jsxs)("div",{className:"T3r3LnbU",children:[(0,a.jsx)(m.zx,{htmlType:"button",type:"secondary",size:"medium",onClick:function(){y&&S&&(t(y),u(S)),x(""),j(!1)},children:"Отмена"}),(0,a.jsx)(m.zx,{htmlType:"button",type:"primary",size:"medium",extraClass:"ml-2",onClick:function(){I&&_((0,r._J)({accessToken:I,name:n,email:c,password:d})).then((function(e){var n;(null===(n=e.payload)||void 0===n?void 0:n.success)&&j(!1)}))},children:N?"Сохранение...":"Сохранить"})]})]})},C=t(5096);const g="KajP35MA";var j=(0,i.memo)((function(e){var n=e.path,t=(0,s.s0)(),i=(0,f.T)();return(0,a.jsxs)("nav",{className:(0,C.cn)("ZiHJNsuc",{},["text","text_type_main-medium"]),children:[(0,a.jsx)("p",{className:(0,C.cn)(g,{text_color_inactive:(0,l.GS)()===n},["text","text_type_main-medium "]),onClick:function(){t((0,l.CJ)())},children:"Профиль"}),(0,a.jsx)("p",{className:(0,C.cn)(g,{text_color_inactive:(0,l.CJ)()===n},["text","text_type_main-medium"]),onClick:function(){t((0,l.GS)())},children:"История заказов"}),(0,a.jsx)("div",{className:(0,C.cn)(g,{},["text_color_inactive"]),onClick:function(){i((0,r.TX)())},children:"Выход"}),(0,a.jsx)("p",{className:(0,C.cn)("d48NWzha",{},["text","text_type_main-default","text_color_inactive"]),children:"В этом разделе вы можете изменить свои персональные данные"})]})}));j.displayName="ProfileNavigation";var I=(0,i.memo)((function(){var e=(0,s.TH)(),n=(0,o.v9)(r.hP);return(0,a.jsxs)(c.T,{className:"bQWIdioN",children:[(0,a.jsx)(j,{path:e.pathname}),e.pathname===(0,l.CJ)()?(0,a.jsx)(x,{}):n?(0,a.jsx)(u.Fv,{urlWebSocket:"wss://norma.nomoreparties.space/orders?token=".concat(null==n?void 0:n.split(" ")[1]),isReverse:!0}):(0,a.jsx)(d.a,{isCenter:!0})]})}));const y=I;I.displayName="ProfilePage"},2813:(e,n,t)=>{t.d(n,{q:()=>s});var a=t(5893),i=t(9310),o=t(7294),s=(0,o.memo)((function(e){var n=e.value,t=e.onChange,s=e.isEdit,c=e.isChangeValue,u=(0,o.useState)(!1),r=u[0],l=u[1],d=(0,o.useState)(!0),m=d[0],f=d[1],h=(0,o.useState)(void 0),v=h[0],p=h[1],x=(0,o.useState)(!1),C=x[0],g=x[1];return(0,o.useEffect)((function(){!1===c&&g(!1)}),[c]),(0,a.jsx)(i.II,{type:"email",placeholder:"E-mail",size:"default",value:n,onChange:function(e){t(e.target.value),f(!0)},onBlur:function(){l(!1),n.trim()?(f(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)),p("Неправильный формат email")):(f(!1),p("Это обязательное поле"))},onFocus:function(){l(!0)},name:"email",error:!m&&!r,errorText:v,autoComplete:"email",icon:s&&(C?"CloseIcon":"EditIcon"),onIconClick:function(){g((function(e){return!e}))},disabled:s&&!C})}));s.displayName="InputMail"},3775:(e,n,t)=>{t.d(n,{C:()=>s});var a=t(5893),i=t(9310),o=t(7294),s=(0,o.memo)((function(e){var n=e.value,t=e.onChange,s=e.isEdit,c=e.isChangeValue,u=(0,o.useState)(!1),r=u[0],l=u[1],d=(0,o.useState)(!0),m=d[0],f=d[1],h=(0,o.useState)(void 0),v=h[0],p=h[1],x=(0,o.useState)("password"),C=x[0],g=x[1],j=(0,o.useState)(!1),I=j[0],y=j[1],S="password"===C?"HideIcon":"ShowIcon",N=I?"CloseIcon":"EditIcon";return(0,o.useEffect)((function(){!1===c&&y(!1)}),[c]),(0,a.jsx)(i.II,{type:C,placeholder:"Пароль",size:"default",value:n,onChange:function(e){t(e.target.value),f(!0)},icon:s?N:S,onIconClick:s?function(){y((function(e){return!e}))}:function(){g("password"===C?"text":"password")},disabled:s&&!I,name:"password",onBlur:function(){l(!1),function(){if(n.trim()){var e=n.length>=6&&n.length<=24;f(e),p("Длина должна быть от 6 до 24 символов")}else f(!1),p("Это обязательное поле")}()},onFocus:function(){l(!0)},error:!m&&!r,errorText:v,maxLength:24,minLength:6,autoComplete:"current-password"})}));s.displayName="InputPassword"},7997:(e,n,t)=>{t.d(n,{o:()=>s});var a=t(5893),i=t(9310),o=t(7294),s=(0,o.memo)((function(e){var n=e.value,t=e.onChange,s=e.placeholder,c=e.name,u=e.isEdit,r=e.isChangeValue,l=e.maxLength,d=void 0===l?24:l,m=(0,o.useState)(!1),f=m[0],h=m[1],v=(0,o.useState)(!0),p=v[0],x=v[1],C=(0,o.useState)(void 0),g=C[0],j=C[1],I=(0,o.useState)(!1),y=I[0],S=I[1];return(0,o.useEffect)((function(){!1===r&&S(!1)}),[r]),(0,a.jsx)(i.II,{type:"text",placeholder:s,size:"default",value:n,onChange:function(e){t(e.target.value),x(!0)},onBlur:function(){h(!1),function(){if(n.trim()){var e=n.length>=3&&n.length<=d;x(e),j("Длина должна быть от 3 до ".concat(d," символов"))}else x(!1),j("Это обязательное поле")}()},onFocus:function(){h(!0)},name:c,error:!p&&!f,errorText:g,maxLength:d,minLength:3,icon:u&&(y?"CloseIcon":"EditIcon"),onIconClick:function(){S((function(e){return!e}))},disabled:u&&!y})}));s.displayName="InputText"},2743:(e,n,t)=>{t.d(n,{T:()=>o});var a=t(5893),i=t(5096);var o=function(e){var n=e.children,t=e.className;return(0,a.jsx)("main",{className:(0,i.cn)("g23eWnm8",{},[t]),children:n})};o.displayName="Page"}}]);